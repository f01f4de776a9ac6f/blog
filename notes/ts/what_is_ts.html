<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TypeScript基础 | webBlog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/logo.jpg">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.ac234a11.css" as="style"><link rel="preload" href="/assets/js/app.c8147b43.js" as="script"><link rel="preload" href="/assets/js/2.7caba1bd.js" as="script"><link rel="preload" href="/assets/js/39.047a44c9.js" as="script"><link rel="prefetch" href="/assets/js/10.94c481ef.js"><link rel="prefetch" href="/assets/js/11.6443aac3.js"><link rel="prefetch" href="/assets/js/12.986e3c2d.js"><link rel="prefetch" href="/assets/js/13.ee72d501.js"><link rel="prefetch" href="/assets/js/14.7a896f28.js"><link rel="prefetch" href="/assets/js/15.5132fecf.js"><link rel="prefetch" href="/assets/js/16.7f638546.js"><link rel="prefetch" href="/assets/js/17.33dc07aa.js"><link rel="prefetch" href="/assets/js/18.e4ba8a82.js"><link rel="prefetch" href="/assets/js/19.605fdfe1.js"><link rel="prefetch" href="/assets/js/20.498695ca.js"><link rel="prefetch" href="/assets/js/21.6e66d31b.js"><link rel="prefetch" href="/assets/js/22.49189a0e.js"><link rel="prefetch" href="/assets/js/23.918c7c0a.js"><link rel="prefetch" href="/assets/js/24.102a66eb.js"><link rel="prefetch" href="/assets/js/25.ce33560f.js"><link rel="prefetch" href="/assets/js/26.3adae68b.js"><link rel="prefetch" href="/assets/js/27.1d4559c4.js"><link rel="prefetch" href="/assets/js/28.52acda33.js"><link rel="prefetch" href="/assets/js/29.d2142a32.js"><link rel="prefetch" href="/assets/js/3.6aa14199.js"><link rel="prefetch" href="/assets/js/30.a96422fd.js"><link rel="prefetch" href="/assets/js/31.df65dc40.js"><link rel="prefetch" href="/assets/js/32.4f7c38db.js"><link rel="prefetch" href="/assets/js/33.b5432197.js"><link rel="prefetch" href="/assets/js/34.5a8281fd.js"><link rel="prefetch" href="/assets/js/35.a2fee2af.js"><link rel="prefetch" href="/assets/js/36.68fa3d92.js"><link rel="prefetch" href="/assets/js/37.5542ad43.js"><link rel="prefetch" href="/assets/js/38.eeabf9fa.js"><link rel="prefetch" href="/assets/js/4.e2d7a310.js"><link rel="prefetch" href="/assets/js/40.920c9dd4.js"><link rel="prefetch" href="/assets/js/41.c3d5198a.js"><link rel="prefetch" href="/assets/js/42.af2f2df4.js"><link rel="prefetch" href="/assets/js/43.1fd0ed75.js"><link rel="prefetch" href="/assets/js/44.294ea28f.js"><link rel="prefetch" href="/assets/js/45.08d0874e.js"><link rel="prefetch" href="/assets/js/46.aafd02ea.js"><link rel="prefetch" href="/assets/js/5.11361670.js"><link rel="prefetch" href="/assets/js/6.5f50ad15.js"><link rel="prefetch" href="/assets/js/7.8df63094.js"><link rel="prefetch" href="/assets/js/8.1e475788.js"><link rel="prefetch" href="/assets/js/9.0ce26b24.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ac234a11.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpg" alt="webBlog" class="logo"> <span class="site-name can-hide">webBlog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/resources/website/websites_recom.html" class="nav-link">
  Resources
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/h5c3/css.html" class="nav-link">
  HTML&amp;CSS
</a></li><li class="dropdown-subitem"><a href="/notes/less/less.html" class="nav-link">
  Less
</a></li><li class="dropdown-subitem"><a href="/notes/js/what_is_js.html" class="nav-link">
  Javascript
</a></li><li class="dropdown-subitem"><a href="/notes/ts/what_is_ts.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/vue/vue核心基础.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/notes/react/react-basic.html" class="nav-link">
  React
</a></li></ul></li><li class="dropdown-item"><h4>
          其它
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/git/git.html" class="nav-link">
  Git
</a></li><li class="dropdown-subitem"><a href="/notes/nodejs/node.html" class="nav-link">
  Nodejs
</a></li><li class="dropdown-subitem"><a href="/notes/webpack/webpack基础.html" class="nav-link">
  webpack
</a></li><li class="dropdown-subitem"><a href="/notes/ide/vscode.html" class="nav-link">
  vscode
</a></li><li class="dropdown-subitem"><a href="/notes/utils/utils.html" class="nav-link">
  utils
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/resources/website/websites_recom.html" class="nav-link">
  Resources
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/h5c3/css.html" class="nav-link">
  HTML&amp;CSS
</a></li><li class="dropdown-subitem"><a href="/notes/less/less.html" class="nav-link">
  Less
</a></li><li class="dropdown-subitem"><a href="/notes/js/what_is_js.html" class="nav-link">
  Javascript
</a></li><li class="dropdown-subitem"><a href="/notes/ts/what_is_ts.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/vue/vue核心基础.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/notes/react/react-basic.html" class="nav-link">
  React
</a></li></ul></li><li class="dropdown-item"><h4>
          其它
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/git/git.html" class="nav-link">
  Git
</a></li><li class="dropdown-subitem"><a href="/notes/nodejs/node.html" class="nav-link">
  Nodejs
</a></li><li class="dropdown-subitem"><a href="/notes/webpack/webpack基础.html" class="nav-link">
  webpack
</a></li><li class="dropdown-subitem"><a href="/notes/ide/vscode.html" class="nav-link">
  vscode
</a></li><li class="dropdown-subitem"><a href="/notes/utils/utils.html" class="nav-link">
  utils
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/notes/ts/what_is_ts.html" aria-current="page" class="active sidebar-link">TypeScript基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#typescript安装及使用" class="sidebar-link">TypeScript安装及使用</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#类型声明空间与变量声明空间" class="sidebar-link">类型声明空间与变量声明空间</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#变量声明空间" class="sidebar-link">变量声明空间</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#类型声明空间" class="sidebar-link">类型声明空间</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#注意点" class="sidebar-link">注意点</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#类型注解与类型推断" class="sidebar-link">类型注解与类型推断</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#类型注解-为变量声明指定类型" class="sidebar-link">类型注解（为变量声明指定类型）</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#类型推断-ts自动完成类型注解的过程" class="sidebar-link">类型推断（ts自动完成类型注解的过程）</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#类型分类与联合类型与交叉类型" class="sidebar-link">类型分类与联合类型与交叉类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#类型分类-基本数据类型和引用数据类型" class="sidebar-link">类型分类（基本数据类型和引用数据类型）</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#联合类型-类型之间进行或的操作" class="sidebar-link">联合类型(类型之间进行或的操作)</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#交叉类型-类型之间进行与的操作" class="sidebar-link">交叉类型（类型之间进行与的操作）</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#never、any、unknown类型" class="sidebar-link">never、any、unknown类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#never-永不存在的值的类型" class="sidebar-link">never（永不存在的值的类型）</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#any-任意类型-和unknown-any类型对应的安全类型" class="sidebar-link">any（任意类型）和unknown（any类型对应的安全类型）</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#类型断言与非空断言-绕过ts检查-运行可能会报错" class="sidebar-link">类型断言与非空断言（绕过ts检查，运行可能会报错）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#类型断言" class="sidebar-link">类型断言</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#非空断言" class="sidebar-link">非空断言</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#数组类型和元组类型" class="sidebar-link">数组类型和元组类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#数组类型" class="sidebar-link">数组类型</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#元组类型" class="sidebar-link">元组类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#对象类型与索引签名" class="sidebar-link">对象类型与索引签名</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#对象类型" class="sidebar-link">对象类型</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#索引签名" class="sidebar-link">索引签名</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#函数类型与void类型" class="sidebar-link">函数类型与void类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#函数类型" class="sidebar-link">函数类型</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#void类型" class="sidebar-link">void类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#函数重载与可调用注解" class="sidebar-link">函数重载与可调用注解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#函数重载" class="sidebar-link">函数重载</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#可调用注解" class="sidebar-link">可调用注解</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#枚举类型与const枚举" class="sidebar-link">枚举类型与const枚举</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#接口interface及与类型别名的区别" class="sidebar-link">接口interface及与类型别名的区别</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#字面量类型和keyof关键字" class="sidebar-link">字面量类型和keyof关键字</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#类型保护与自定义类型保护" class="sidebar-link">类型保护与自定义类型保护</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#定义泛型及泛型常见操作" class="sidebar-link">定义泛型及泛型常见操作</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#类型兼容性" class="sidebar-link">类型兼容性</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#映射类型与内置工具类型" class="sidebar-link">映射类型与内置工具类型</a></li><li class="sidebar-sub-header"><a href="/notes/ts/what_is_ts.html#类中使用类型" class="sidebar-link">类中使用类型</a></li></ul></li><li><a href="/notes/ts/vueTs.html" class="sidebar-link">TypeScript结合Vue使用</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript基础"><a href="#typescript基础" class="header-anchor">#</a> TypeScript基础</h1> <h2 id="typescript安装及使用"><a href="#typescript安装及使用" class="header-anchor">#</a> TypeScript安装及使用</h2> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 安装</span>
npm i <span class="token operator">-</span>g typescript
<span class="token comment">// 运行以下命令会将ts文件编译为js文件</span>
tsc xxx<span class="token punctuation">.</span>ts
<span class="token comment">// 运行以下命令会监听ts文件变化并重新编译</span>
tsc xxx<span class="token punctuation">.</span>ts <span class="token operator">--</span>w
<span class="token comment">// 创建ts配置文件</span>
tsc <span class="token operator">--</span>init
<span class="token comment">// 将项目下的所有ts文件进行编译</span>
tsc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="类型声明空间与变量声明空间"><a href="#类型声明空间与变量声明空间" class="header-anchor">#</a> 类型声明空间与变量声明空间</h2> <h3 id="变量声明空间"><a href="#变量声明空间" class="header-anchor">#</a> 变量声明空间</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="类型声明空间"><a href="#类型声明空间" class="header-anchor">#</a> 类型声明空间</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="注意点"><a href="#注意点" class="header-anchor">#</a> 注意点</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 1、类型声明空间不能和变量声明空间混用。例：</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> a<span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">;</span>

<span class="token comment">// 2、类在ts中既是变量声明空间又是类型声明空间。例：</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> Foo<span class="token punctuation">;</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> Foo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="类型注解与类型推断"><a href="#类型注解与类型推断" class="header-anchor">#</a> 类型注解与类型推断</h2> <h3 id="类型注解-为变量声明指定类型"><a href="#类型注解-为变量声明指定类型" class="header-anchor">#</a> 类型注解（为变量声明指定类型）</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token keyword">let</span> a<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">'hello ts'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="类型推断-ts自动完成类型注解的过程"><a href="#类型推断-ts自动完成类型注解的过程" class="header-anchor">#</a> 类型推断（ts自动完成类型注解的过程）</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// ts会推断出变量a为number类型且不能用别的类型进行赋值</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="类型分类与联合类型与交叉类型"><a href="#类型分类与联合类型与交叉类型" class="header-anchor">#</a> 类型分类与联合类型与交叉类型</h2> <h3 id="类型分类-基本数据类型和引用数据类型"><a href="#类型分类-基本数据类型和引用数据类型" class="header-anchor">#</a> 类型分类（基本数据类型和引用数据类型）</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 基础数据类型</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'ts'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b<span class="token operator">:</span>bigint <span class="token operator">=</span> <span class="token number">100n</span><span class="token punctuation">;</span>
<span class="token operator">...</span>

<span class="token comment">// 引用数据类型（不推荐使用object进行类型注解。因为数组、对象、函数都可以对该变量进行赋值）</span>
<span class="token keyword">let</span> obj<span class="token operator">:</span>object <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
obj <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function-variable function">obj</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="联合类型-类型之间进行或的操作"><a href="#联合类型-类型之间进行或的操作" class="header-anchor">#</a> 联合类型(类型之间进行或的操作)</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 变量a可以被赋值为string或number类型  满足一个类型即可</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token string">'ts'</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="交叉类型-类型之间进行与的操作"><a href="#交叉类型-类型之间进行与的操作" class="header-anchor">#</a> 交叉类型（类型之间进行与的操作）</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 交叉类型常用于对象 必须所有类型都要满足</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  userName<span class="token operator">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token constant">A</span><span class="token operator">&amp;</span><span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span>userName<span class="token operator">:</span><span class="token string">'xx'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="never、any、unknown类型"><a href="#never、any、unknown类型" class="header-anchor">#</a> never、any、unknown类型</h2> <h3 id="never-永不存在的值的类型"><a href="#never-永不存在的值的类型" class="header-anchor">#</a> never（永不存在的值的类型）</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 此时ts就会推断出变量a为never类型因为一个值不可能同时是数字和字符串类型</span>
<span class="token comment">// 例1:</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token builtin">number</span><span class="token operator">&amp;</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token comment">// 例2:</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span><span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token operator">|</span><span class="token number">3</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">swith</span> <span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
    <span class="token comment">// 此时m就为never类型，因为根本不会走到这一步判断</span>
      <span class="token keyword">let</span> m <span class="token operator">=</span> n<span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="any-任意类型-和unknown-any类型对应的安全类型"><a href="#any-任意类型-和unknown-any类型对应的安全类型" class="header-anchor">#</a> any（任意类型）和unknown（any类型对应的安全类型）</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 区别：any类型不进行语法检测、unknown类型还会进行语法检测</span>
<span class="token comment">// any</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>

<span class="token comment">// unknown</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="类型断言与非空断言-绕过ts检查-运行可能会报错"><a href="#类型断言与非空断言-绕过ts检查-运行可能会报错" class="header-anchor">#</a> 类型断言与非空断言（绕过ts检查，运行可能会报错）</h2> <h3 id="类型断言"><a href="#类型断言" class="header-anchor">#</a> 类型断言</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 类型断言主要用于当ts推断出来的类型并不满足你的需求时，你需要手动指定一个类型。</span>
<span class="token comment">// a为unknown类型的变量通过as进行类型断言为数组类型，ts不再进行语法检测。但是运行还是会报错，number没有map方法。</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span>a <span class="token keyword">as</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="非空断言"><a href="#非空断言" class="header-anchor">#</a> 非空断言</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 运行还是会报错，undefined没有length。</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">!</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="数组类型和元组类型"><a href="#数组类型和元组类型" class="header-anchor">#</a> 数组类型和元组类型</h2> <h3 id="数组类型"><a href="#数组类型" class="header-anchor">#</a> 数组类型</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 语法（两种）</span>
<span class="token keyword">let</span> arr1<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> arr3<span class="token operator">:</span><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr4<span class="token operator">:</span><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> arr5<span class="token operator">:</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr6<span class="token operator">:</span><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 数组里面每一项为对象</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token punctuation">{</span>userName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>userName<span class="token operator">:</span><span class="token string">'xxx'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="元组类型"><a href="#元组类型" class="header-anchor">#</a> 元组类型</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 元组允许表示一个已知元素数量和类型的数组，各元素的类型不必相同。</span>
<span class="token comment">// 元组内元素的数量是固定的，不可改变。且元素的类型也需要和值一一对应</span>
<span class="token keyword">let</span> arr<span class="token operator">:</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span><span class="token builtin">number</span><span class="token punctuation">,</span><span class="token builtin">boolean</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="对象类型与索引签名"><a href="#对象类型与索引签名" class="header-anchor">#</a> 对象类型与索引签名</h2> <h3 id="对象类型"><a href="#对象类型" class="header-anchor">#</a> 对象类型</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 规定的对象类型</span>
<span class="token comment">// 下面代码为必须有一个userName属性并且是字符串类型的，age属性为可有可无的，但是有的话必须是number类型</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">?</span><span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span>userName<span class="token operator">:</span><span class="token string">'xxx'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b<span class="token operator">:</span><span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span>userName<span class="token operator">:</span><span class="token string">'xxx'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="索引签名"><a href="#索引签名" class="header-anchor">#</a> 索引签名</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 当不确定对象中会有多少键值对时可以使用索引签名</span>
<span class="token comment">// 如果一个对象中数据类型只有一种的话索引签名可以用同一种类型</span>
<span class="token comment">// 如果一个对象中数据类型有两种及以上的话索引签名可以需要使用any，否则语法报错</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">?</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>
    <span class="token comment">// 索引签名[index:（可以是string也可以number）]:any</span>
    <span class="token comment">// 数组使用number 比如:[1,'2',true,...];</span>
    <span class="token comment">// 对象使用string</span>
    <span class="token punctuation">[</span>index<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token builtin">any</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span>userName<span class="token operator">:</span><span class="token string">'xxx'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>job<span class="token operator">:</span><span class="token string">'web'</span><span class="token punctuation">,</span>money<span class="token operator">:</span><span class="token number">10000</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="函数类型与void类型"><a href="#函数类型与void类型" class="header-anchor">#</a> 函数类型与void类型</h2> <h3 id="函数类型"><a href="#函数类型" class="header-anchor">#</a> 函数类型</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// ts中如果没有指定可选参数，那么实参和形参个数、顺序必须相同。m为可选参数，可传可不传</span>
<span class="token comment">// 下面函数指定返回值为number类型</span>
<span class="token comment">// 函数声明写法</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span> string<span class="token punctuation">,</span> m<span class="token operator">?</span><span class="token operator">:</span> boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">11</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 函数表达式写法该写法等同于下面类型注解写法</span>
<span class="token keyword">let</span> <span class="token function-variable function">foos</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span> string<span class="token punctuation">,</span> m<span class="token operator">?</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">11</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token function-variable function">foos</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span> string<span class="token punctuation">,</span> m<span class="token operator">?</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">11</span>
<span class="token punctuation">}</span>
<span class="token function">foos</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span> <span class="token string">'xxx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">foos</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="void类型"><a href="#void类型" class="header-anchor">#</a> void类型</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 函数没有任何返回值可以使用void,返回值为null时不能使用void</span>
<span class="token comment">// 例</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>

<span class="token comment">// 返回值为undefined，必须要return，哪怕没有值</span>
<span class="token comment">// 例</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">undefined</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">undefined</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="函数重载与可调用注解"><a href="#函数重载与可调用注解" class="header-anchor">#</a> 函数重载与可调用注解</h2> <h3 id="函数重载"><a href="#函数重载" class="header-anchor">#</a> 函数重载</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 函数重载是指函数约束传入不同的参数，返回不同类型的数据，而且可以清晰的知道传入不同的参数得到不同的结果。</span>
<span class="token comment">// 同一函数不同数量参数，可设置对应的返回值类型</span>
<span class="token comment">// 例</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span>string</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">any</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span>string<span class="token punctuation">,</span>m<span class="token operator">:</span>string</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">any</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span>string<span class="token punctuation">,</span>m<span class="token operator">:</span>string<span class="token punctuation">,</span>x<span class="token operator">:</span>string<span class="token punctuation">,</span>y<span class="token operator">:</span>string</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">any</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span>string<span class="token punctuation">,</span>m<span class="token operator">?</span><span class="token operator">:</span>string<span class="token punctuation">,</span>x<span class="token operator">?</span><span class="token operator">:</span>string<span class="token punctuation">,</span>y<span class="token operator">?</span><span class="token operator">:</span>string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">,</span><span class="token string">'111'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">,</span><span class="token string">'111'</span><span class="token punctuation">,</span><span class="token string">'11'</span><span class="token punctuation">,</span><span class="token string">'12'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 函数重载限定传入参数类型,当两个参数一个是字符串一个是数字时报错</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span>string<span class="token punctuation">,</span>m<span class="token operator">:</span>string</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">any</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span>number<span class="token punctuation">,</span>m<span class="token operator">:</span>number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">any</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span>string<span class="token operator">|</span>number<span class="token punctuation">,</span>m<span class="token operator">:</span>string<span class="token operator">|</span>number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">,</span><span class="token string">'111'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="可调用注解"><a href="#可调用注解" class="header-anchor">#</a> 可调用注解</h3> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 可调用注解主要是配合函数重载使用，可以定义多个。虽然type A = () =&gt; any也可以实现但是只能定义一个</span>
<span class="token comment">// 可调用注解的个数和函数重载</span>
<span class="token comment">// 例</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 可调用注解</span>
    <span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> m<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> m<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// 函数重载</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span> string<span class="token punctuation">,</span> m<span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span> number<span class="token punctuation">,</span> m<span class="token operator">:</span> number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span> string <span class="token operator">|</span> number<span class="token punctuation">,</span> m<span class="token operator">:</span> string <span class="token operator">|</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">=</span> foo<span class="token punctuation">;</span>
<span class="token comment">// 调用</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="枚举类型与const枚举"><a href="#枚举类型与const枚举" class="header-anchor">#</a> 枚举类型与const枚举</h2> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 枚举是组织收集有关联集合的一种方式，使代码更加易于阅读</span>
<span class="token comment">// 枚举默认值写法</span>
<span class="token keyword">enum</span> Roles<span class="token punctuation">{</span>
  <span class="token constant">SUPER_ADMIN</span><span class="token punctuation">,</span>
  <span class="token constant">ADMIN</span><span class="token punctuation">,</span>
  <span class="token constant">USER</span>
<span class="token punctuation">}</span>
<span class="token comment">// 1、自动累加（仅限值为数字）</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Roles<span class="token punctuation">.</span><span class="token constant">SUPER_ADMIN</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//0</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Roles<span class="token punctuation">.</span><span class="token constant">ADMIN</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Roles<span class="token punctuation">.</span><span class="token constant">USER</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
<span class="token comment">// 注意！！！如果对枚举的某项进行手动赋值，后边的值会基于手动赋的值进行自动累加</span>
<span class="token keyword">enum</span> Roles<span class="token punctuation">{</span>
  <span class="token constant">SUPER_ADMIN</span><span class="token punctuation">,</span>
  <span class="token constant">ADMIN</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token constant">USER</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Roles<span class="token punctuation">.</span><span class="token constant">SUPER_ADMIN</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//0</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Roles<span class="token punctuation">.</span><span class="token constant">ADMIN</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Roles<span class="token punctuation">.</span><span class="token constant">USER</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4</span>

<span class="token comment">// 2、反向映射（仅限值为数字）</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Roles<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//SUPER_ADMIN</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Roles<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ADMIN</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Roles<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//USER</span>

<span class="token comment">// 枚举值为字符串时会失去自动累加、反向映射特性</span>
<span class="token keyword">enum</span> Roles<span class="token punctuation">{</span>
  <span class="token constant">SUPER_ADMIN</span> <span class="token operator">=</span> <span class="token string">'super_admin'</span><span class="token punctuation">,</span>
  <span class="token constant">ADMIN</span> <span class="token operator">=</span> <span class="token string">'admin'</span><span class="token punctuation">,</span>
  <span class="token constant">USER</span> <span class="token operator">=</span> <span class="token string">'user'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="接口interface及与类型别名的区别"><a href="#接口interface及与类型别名的区别" class="header-anchor">#</a> 接口interface及与类型别名的区别</h2> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 同类型别名一样支持可调用注解、索引签名、可选参数、readonly等</span>
<span class="token comment">//基本使用</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span>userName<span class="token operator">:</span><span class="token string">'wl'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">111</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 索引签名</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>index<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b<span class="token operator">:</span><span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 可选参数</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
    password<span class="token operator">?</span><span class="token operator">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> c<span class="token operator">:</span><span class="token constant">C</span> <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'wl'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//可调用注解</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">D</span></span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>firstName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>lastName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> d<span class="token operator">:</span><span class="token function-variable function">D</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">firstName<span class="token punctuation">,</span>lastName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> firstName<span class="token operator">+</span>lastName
<span class="token punctuation">}</span>
<span class="token function">d</span><span class="token punctuation">(</span><span class="token string">'w'</span><span class="token punctuation">,</span><span class="token string">'l'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//只读 readonly关键字只可读取不能修改</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">E</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">readonly</span> name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> e<span class="token operator">:</span><span class="token constant">E</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">'wl'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token number">111</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//wl</span>
<span class="token comment">// e.name = 'xiaoming';//语法提示报错</span>
<span class="token comment">// --------------------------------------------与类型别名的区别</span>
<span class="token comment">// 接口</span>
<span class="token comment">// 1、仅支持对象类型</span>
<span class="token comment">// 2、接口具有合并、继承功能</span>

<span class="token comment">// 类型别名</span>
<span class="token comment">// 1、可映射类型</span>
<span class="token comment">// 2、不存在合并，因为出现相同名字的类型别名会有语法错误</span>
<span class="token comment">// 3、不存在继承</span>
<span class="token comment">// 4、任意类型都可使用</span>

<span class="token comment">// 接口合并</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">F</span></span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">F</span></span> <span class="token punctuation">{</span>
    age<span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// 变量f赋值必须具有name、age属性及相对应类型的值</span>
<span class="token keyword">let</span> f<span class="token operator">:</span><span class="token constant">F</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">'wl'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token number">111</span>
<span class="token punctuation">}</span>
<span class="token comment">// 接口继承</span>
<span class="token keyword">interface</span> <span class="token class-name">parent</span> <span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
    password<span class="token operator">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// 接口child通过extends关键字继承接口parent,使其具有userName、password属性校验</span>
<span class="token keyword">interface</span> <span class="token class-name">child</span> <span class="token keyword">extends</span> <span class="token class-name">parent</span><span class="token punctuation">{</span>
    job<span class="token operator">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person<span class="token operator">:</span>child <span class="token operator">=</span> <span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">'wl'</span><span class="token punctuation">,</span>
    password<span class="token operator">:</span><span class="token string">'xxx'</span><span class="token punctuation">,</span>
    job<span class="token operator">:</span><span class="token string">'web'</span>
<span class="token punctuation">}</span>

<span class="token comment">// type类型别名映射类型</span>
<span class="token keyword">type</span> <span class="token class-name">Mapping</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>i <span class="token keyword">in</span> <span class="token string">'userName'</span><span class="token operator">|</span><span class="token string">'password'</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> mapping<span class="token operator">:</span>Mapping <span class="token operator">=</span> <span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">'wl'</span><span class="token punctuation">,</span>
    password<span class="token operator">:</span><span class="token string">'xxx'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><h2 id="字面量类型和keyof关键字"><a href="#字面量类型和keyof关键字" class="header-anchor">#</a> 字面量类型和keyof关键字</h2> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">//字面量类型</span>
<span class="token keyword">type</span> <span class="token class-name">Def</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">//当前变量def只可被赋值为1</span>
<span class="token keyword">let</span> def<span class="token operator">:</span>Def <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">// 字面量类型结合联合类型使用</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token string">'true'</span> <span class="token operator">|</span> <span class="token string">'false'</span><span class="token punctuation">;</span>
<span class="token comment">//变量a赋值只能是'true'或'false'</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">'true'</span><span class="token punctuation">;</span>


<span class="token comment">//keyof会将接口和类型别名的key抽离出来作为变量的可选值使用</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
    password<span class="token operator">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// type B = {</span>
<span class="token comment">//     userName:string,</span>
<span class="token comment">//     password:string</span>
<span class="token comment">// }</span>
<span class="token comment">//当前变量b可选值只能是'userName'或'password'等同于联合类型</span>
<span class="token keyword">let</span> b<span class="token operator">:</span><span class="token keyword">keyof</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token string">'userName'</span>

<span class="token comment">// 作用同上</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">'wl'</span><span class="token punctuation">,</span>
    password<span class="token operator">:</span><span class="token string">'xxx'</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">;</span>
<span class="token keyword">let</span> c<span class="token operator">:</span><span class="token keyword">keyof</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token string">'password'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="类型保护与自定义类型保护"><a href="#类型保护与自定义类型保护" class="header-anchor">#</a> 类型保护与自定义类型保护</h2> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">//类型保护</span>
<span class="token comment">//通过使用typeof、in、instanceof等关键字或字面量进行类型保护</span>
<span class="token comment">//当我们传递的参数为联合类型时，使用某一个类型原型上的属性或方法时，出现语法错误</span>
<span class="token comment">//typeof</span>
<span class="token keyword">function</span> <span class="token function">typeofFn</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span>string<span class="token operator">|</span>number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// console.log(n.length)//直接使用会有语法错误,因为参数n也可能为number类型，number类型没有length属性</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> n <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//in</span>
<span class="token keyword">function</span> <span class="token function">inFn</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span><span class="token punctuation">{</span>userName<span class="token operator">:</span>string<span class="token punctuation">}</span><span class="token operator">|</span><span class="token punctuation">{</span>age<span class="token operator">:</span>number<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//console.log(n.userName)//直接使用会有语法错误,因为参数n也可能为对象{age:number}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">'userName'</span> <span class="token keyword">in</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//instanceof</span>
<span class="token class-name"><span class="token keyword">class</span></span> foo <span class="token punctuation">{</span>
    userName <span class="token operator">=</span> <span class="token string">'wl'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">bar</span> <span class="token punctuation">{</span>
    password <span class="token operator">=</span> <span class="token string">'xxx'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">instanceofFn</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span>foo<span class="token operator">|</span>bar</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//console.log(n.userName)//直接使用会有语法错误,因为参数n也可能为类bar的实例</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token keyword">instanceof</span> <span class="token class-name">foo</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>userName<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//字面量</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span>n<span class="token operator">:</span><span class="token string">'wl'</span><span class="token operator">|</span><span class="token number">111</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log(n.length);//直接使用会有语法错误,因为参数n也可能为111,number类型没有length属性</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">===</span><span class="token string">'wl'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//自定义类型保护 例如：</span>
<span class="token comment">//is类型谓词它可以做到类型保护</span>
<span class="token keyword">function</span> <span class="token function">isString</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span>any</span><span class="token punctuation">)</span><span class="token operator">:</span>n <span class="token keyword">is</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> n <span class="token operator">===</span> <span class="token string">'string'</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">typeofFn</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span>string<span class="token operator">|</span>number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// console.log(n.length)//直接使用会有语法错误,因为参数n也可能为number类型，number类型没有length属性</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isString</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h2 id="定义泛型及泛型常见操作"><a href="#定义泛型及泛型常见操作" class="header-anchor">#</a> 定义泛型及泛型常见操作</h2> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 泛型类似函数可以传递类型参数，以达到泛型复用的目的</span>
<span class="token comment">// 定义泛型</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span><span class="token operator">&lt;</span><span class="token constant">X</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">X</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token constant">A</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token string">'泛型'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b<span class="token operator">:</span><span class="token constant">A</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> c<span class="token operator">:</span><span class="token constant">A</span><span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token punctuation">;</span><span class="token comment">//泛型默认值</span>
<span class="token comment">//数组泛型写法实现Array&lt;string&gt;效果</span>
<span class="token keyword">type</span> <span class="token class-name">myArr<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1<span class="token operator">:</span>myArr<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>


<span class="token comment">//泛型使用</span>
<span class="token comment">//函数</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">foo</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>n<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token generic-function"><span class="token function">foo</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">'泛型'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//泛型不传类型会进行类型自动推断，推断为number类型</span>
<span class="token comment">//函数结合接口使用</span>
<span class="token keyword">interface</span> <span class="token class-name">fnInterface<span class="token operator">&lt;</span>Fn<span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>name<span class="token operator">:</span>Fn<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">?</span><span class="token operator">:</span>Fn
<span class="token punctuation">}</span>
<span class="token keyword">let</span> fn1<span class="token operator">:</span>fnInterface<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> fn2<span class="token operator">:</span>fnInterface<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//普通类使用泛型</span>
<span class="token keyword">class</span> <span class="token class-name">bar<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span><span class="token punctuation">{</span>
    <span class="token comment">//使用非空断言后不再语法报错</span>
    userName<span class="token operator">!</span><span class="token operator">:</span><span class="token constant">T</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> bars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">bar<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bars<span class="token punctuation">.</span>userName <span class="token operator">=</span> <span class="token string">'泛型'</span><span class="token punctuation">;</span>
<span class="token comment">//继承类使用泛型,传入类型后只能支持传入的类型</span>
<span class="token keyword">class</span> <span class="token class-name">extendsClass</span> <span class="token keyword">extends</span> <span class="token class-name">bar<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token keyword">let</span> extendsClassObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">extendsClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
extendsClassObj<span class="token punctuation">.</span>userName <span class="token operator">=</span> <span class="token string">'泛型类继承'</span><span class="token punctuation">;</span>
<span class="token comment">// extendsClassObj.userName = 111;报错</span>


<span class="token comment">// 泛型约束</span>
<span class="token keyword">type</span> <span class="token class-name">Constraint</span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">constraintFn</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> Constraint<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>n<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token function">constraintFn</span><span class="token punctuation">(</span><span class="token string">'泛型约束'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// constraintFn(111);报错指定了泛型类型只能为string</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h2 id="类型兼容性"><a href="#类型兼容性" class="header-anchor">#</a> 类型兼容性</h2> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token keyword">let</span> a<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b<span class="token operator">:</span><span class="token builtin">number</span><span class="token operator">|</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
<span class="token comment">// b = a;success</span>
<span class="token comment">// a = b;error</span>

<span class="token keyword">let</span> obj1<span class="token operator">:</span><span class="token punctuation">{</span>userName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>userName<span class="token operator">:</span><span class="token string">'wl'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj2<span class="token operator">:</span><span class="token punctuation">{</span>userName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>userName<span class="token operator">:</span><span class="token string">'wl'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">111</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// obj1 = obj2;success</span>
<span class="token comment">// obj2 = obj1;error</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span><span class="token punctuation">{</span>userName<span class="token operator">:</span>string<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// foo({userName:'wl'});success</span>
<span class="token comment">// foo({userName:'wl',age:111});error</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>userName<span class="token operator">:</span><span class="token string">'wl'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">111</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// foo(obj);success</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="映射类型与内置工具类型"><a href="#映射类型与内置工具类型" class="header-anchor">#</a> 映射类型与内置工具类型</h2> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 映射类型只能通过类型别名实现，不能通过接口实现</span>
<span class="token comment">// 映射类型</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token constant">B</span><span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">&gt;</span>
<span class="token comment">//内置工具类型有很多，列举几个常用的</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>
    job<span class="token operator">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> Partial<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment">//可选，当前类型B为{userName?: string, age?: number, job?: string}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment">//只读，当前类型C为{readonly userName: string, readonly age: number, readonly job: string}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">D</span></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token string">'userName'</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment">//筛选，当前类型D为{userName:string}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">E</span></span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token string">'name'</span><span class="token operator">|</span><span class="token string">'password'</span><span class="token punctuation">,</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment">//生成一个新类型，当前类型E为{name: string, password: string}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">F</span></span> <span class="token operator">=</span> Required<span class="token operator">&lt;</span><span class="token constant">B</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment">//必传，当前类型F为{userName: string, age: number, job: string}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">G</span></span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token string">'userName'</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment">//筛选，Pick相反操作，当前类型G为{age: number, job: string}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">H</span></span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">number</span><span class="token operator">|</span><span class="token builtin">boolean</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment">//排除某一项，当前类型H为number | boolean类型</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">I</span></span> <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">number</span><span class="token operator">|</span><span class="token builtin">boolean</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment">//Exclude的相反操作只保留某一类型，当前类型I为string类型</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">J</span></span> <span class="token operator">=</span> NonNullable<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token keyword">null</span><span class="token operator">|</span><span class="token keyword">undefined</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment">//只保留不为null和undefined的类型，当前类型J为string类型</span>
<span class="token keyword">type</span> <span class="token class-name">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span>string<span class="token punctuation">,</span>m<span class="token operator">:</span>number</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">K</span></span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span>foo<span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment">//函数的参数转换为一个元组类型，当前类型K为元组类型[string, number]</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">L</span></span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span>foo<span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment">//获取函数返回值类型，当前类型L为string</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="类中使用类型"><a href="#类中使用类型" class="header-anchor">#</a> 类中使用类型</h2> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">// 类中使用类型</span>
<span class="token comment">// 类也可以作为一个类型使用</span>
<span class="token keyword">class</span> <span class="token class-name">myClass</span> <span class="token punctuation">{</span>
    <span class="token comment">//使用非空断言解决不给初始值语法报错</span>
    userName<span class="token operator">!</span><span class="token operator">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> myVariable<span class="token operator">:</span>myClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">myClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myVariable<span class="token punctuation">.</span>userName <span class="token operator">=</span> <span class="token string">'111'</span><span class="token punctuation">;</span>
<span class="token comment">// 类中使用类型</span>
<span class="token keyword">class</span> <span class="token class-name">Class</span> <span class="token punctuation">{</span>
    <span class="token comment">//初始值</span>
    userName<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
    <span class="token comment">//没有初始值</span>
    age<span class="token operator">!</span><span class="token operator">:</span><span class="token builtin">number</span>
    <span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>userName
    <span class="token punctuation">}</span>
    <span class="token function">setAge</span><span class="token punctuation">(</span>n<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
f<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//类中使用接口及泛型</span>
<span class="token keyword">interface</span> <span class="token class-name">myClassInterface<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>
    <span class="token function">setAndGetUserName</span><span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">myClassInterface<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'xxx'</span>
    age<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">18</span>
    <span class="token function">setAndGetUserName</span><span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userName <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>userName
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">setAndGetUserName</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 泛型在类中使用</span>
<span class="token keyword">class</span> <span class="token class-name">Foo<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token constant">T</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span><span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userName <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Foo<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//泛型结合继承</span>
<span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token keyword">extends</span> <span class="token class-name">Foo<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Bar</span><span class="token punctuation">(</span><span class="token string">'李四'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><p>注意：d.ts声明文件主要作用是描述js模块内所有导出接口的类型信息，使得js既可以在js中使用也可以在ts中使用。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/19/2022, 5:21:05 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/notes/ts/vueTs.html">
        TypeScript结合Vue使用
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c8147b43.js" defer></script><script src="/assets/js/2.7caba1bd.js" defer></script><script src="/assets/js/39.047a44c9.js" defer></script>
  </body>
</html>
